import { IDisposable } from '../vscode/vs/base/common/lifecycle.js';
import { IStorageItemsChangeEvent, IStorage } from '../vscode/vs/base/parts/storage/common/storage.js';
import { IEditorOverrideServices } from '../vscode/vs/editor/standalone/browser/standaloneServices.js';
import { AbstractStorageService, StorageScope as StorageScope$1 } from '../vscode/vs/platform/storage/common/storage.js';
import { IUserDataProfile } from '../vscode/vs/platform/userDataProfile/common/userDataProfile.js';
import { IAnyWorkspaceIdentifier } from '../vscode/vs/platform/workspace/common/workspace.js';
import { BrowserStorageService } from '../vscode/vs/workbench/services/storage/browser/storageService.js';
import { ILogService } from '../vscode/vs/platform/log/common/log.js';
import { IUserDataProfileService } from '../vscode/vs/workbench/services/userDataProfile/common/userDataProfile.js';

declare enum StorageScope {
    APPLICATION = -1,
    PROFILE = 0,
    WORKSPACE = 1
}
interface IStorageProvider {
    read(scope: StorageScope): Map<string, string> | undefined;
    write(scope: StorageScope, data: Map<string, string>): Promise<void>;
    close?(scope: StorageScope): Promise<void>;
    onDidChange?(listener: (event: IStorageItemsChangeEvent) => void): IDisposable;
}
declare class ExternalStorageService extends AbstractStorageService {
    protected readonly provider: IStorageProvider;
    private readonly applicationStorage;
    private readonly profileStorage;
    private readonly workspaceStorage;
    constructor(provider: IStorageProvider);
    protected getStorage(scope: StorageScope$1): IStorage;
    protected getLogDetails(scope: StorageScope$1): string | undefined;
    protected doInitialize(): Promise<void>;
    protected switchToProfile(): Promise<void>;
    protected switchToWorkspace(): Promise<void>;
    hasScope(_scope: IAnyWorkspaceIdentifier | IUserDataProfile): boolean;
}
declare class InjectedBrowserStorageService extends BrowserStorageService {
    constructor(userDataProfileService: IUserDataProfileService, logService: ILogService);
}
declare function getStorageServiceOverride(provider?: IStorageProvider): IEditorOverrideServices;

export { InjectedBrowserStorageService as BrowserStorageService, ExternalStorageService, IStorageItemsChangeEvent, IStorageProvider, StorageScope, getStorageServiceOverride as default };
