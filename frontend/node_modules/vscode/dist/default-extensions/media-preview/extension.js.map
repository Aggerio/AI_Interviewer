{"version":3,"file":"extension.js","mappings":";;;;;;;;AAAA;;;gGAGgG;;;AAEhG,sCAAiC;AAEjC,8CAA4D;AAC5D,qCAAuD;AAEvD,MAAM,oBAAoB;IAIzB,YACkB,aAAyB,EACzB,wBAAkD;QADlD,kBAAa,GAAb,aAAa,CAAY;QACzB,6BAAwB,GAAxB,wBAAwB,CAA0B;IAChE,CAAC;IAEE,KAAK,CAAC,kBAAkB,CAAC,GAAe;QAC9C,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,mBAAmB,CAAC,QAA+B,EAAE,aAAkC;QACnG,IAAI,YAAY,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAClG,CAAC;;AAbsB,6BAAQ,GAAG,qBAAqB,CAAC;AAiBzD,MAAM,YAAa,SAAQ,2BAAY;IAEtC,YACkB,aAAyB,EAC1C,QAAoB,EACpB,aAAkC,EAClC,wBAAkD;QAElD,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,aAAa,EAAE,wBAAwB,CAAC,CAAC;QALvD,kBAAa,GAAb,aAAa,CAAY;QAO1C,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;YAClE,QAAQ,OAAO,CAAC,IAAI,EAAE;gBACrB,KAAK,gBAAgB,CAAC,CAAC;oBACtB,+BAAY,EAAC,QAAQ,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;oBACjD,MAAM;iBACN;aACD;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,WAAW,EAAE,CAAC;IACpB,CAAC;IAES,KAAK,CAAC,kBAAkB;QACjC,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,QAAQ,GAAG;YAChB,GAAG,EAAE,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC;SAC3E,CAAC;QAEF,MAAM,KAAK,GAAG,kBAAQ,GAAE,CAAC;QAEzB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC;QACvD,OAAO,UAAU;;;;;;;;;;;gCAWa,yBAAe,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC,2CAA2C,KAAK;;yFAE3D,SAAS,eAAe,SAAS,uBAAuB,KAAK,gBAAgB,SAAS,WAAW,KAAK;sCACzJ,yBAAe,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;;;;;OAKxE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,iDAAiD,CAAC;uCAChC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,wDAAwD,CAAC;;gBAE9F,yBAAe,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,YAAY,KAAK;;QAE5F,CAAC;IACR,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,aAAkC,EAAE,QAAoB,EAAE,OAAe;QACtG,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK,EAAE;YAC9B,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtD,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE;gBACpB,gCAAgC;gBAChC,OAAO,IAAI,CAAC;aACZ;SACD;QAED,gEAAgE;QAChE,IAAI,QAAQ,CAAC,KAAK,EAAE;YACnB,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC/D;QACD,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,OAAO,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtG,CAAC;IAEO,iBAAiB,CAAC,GAAG,KAAe;QAC3C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC;IACnG,CAAC;CACD;AAED,SAAgB,2BAA2B,CAAC,OAAgC,EAAE,wBAAkD;IAC/H,MAAM,QAAQ,GAAG,IAAI,oBAAoB,CAAC,OAAO,CAAC,YAAY,EAAE,wBAAwB,CAAC,CAAC;IAC1F,OAAO,MAAM,CAAC,MAAM,CAAC,4BAA4B,CAAC,oBAAoB,CAAC,QAAQ,EAAE,QAAQ,EAAE;QAC1F,kCAAkC,EAAE,IAAI;QACxC,cAAc,EAAE;YACf,uBAAuB,EAAE,IAAI;SAC7B;KACD,CAAC,CAAC;AACJ,CAAC;AARD,kEAQC;;;;;;;ACtHD;;;;;;;ACAA;;;gGAGgG;;;AAEhG,sCAAiC;AACjC,4CAAmC;AAEnC,yCAA4C;AAE5C,SAAgB,YAAY,CAAC,QAAoB,EAAE,UAAyC;IAC3F,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,iBAAiB,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;AACpF,CAAC;AAFD,oCAEC;AAQD,MAAsB,YAAa,SAAQ,oBAAU;IAKpD,YACC,aAAyB,EACN,QAAoB,EACpB,aAAkC,EACpC,wBAAkD;QAEnE,KAAK,EAAE,CAAC;QAJW,aAAQ,GAAR,QAAQ,CAAY;QACpB,kBAAa,GAAb,aAAa,CAAqB;QACpC,6BAAwB,GAAxB,wBAAwB,CAA0B;QAP1D,iBAAY,gCAAwB;QAW7C,aAAa,CAAC,OAAO,CAAC,OAAO,GAAG;YAC/B,aAAa,EAAE,IAAI;YACnB,WAAW,EAAE,KAAK;YAClB,kBAAkB,EAAE;gBACnB,kBAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACvB,aAAa;aACb;SACD,CAAC;QAEF,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,oBAAoB,CAAC,GAAG,EAAE;YACtD,IAAI,CAAC,WAAW,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,EAAE;YAC9C,IAAI,CAAC,YAAY,gCAAwB,CAAC;YAC1C,IAAI,CAAC,OAAO,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC;QAEJ,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,uBAAuB,CAAC,IAAI,MAAM,CAAC,eAAe,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;QACpH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;YACtC,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE;gBAC9C,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,IAAI,CAAC,MAAM,EAAE,CAAC;aACd;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;YACtC,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE;gBAC9C,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;aAC7B;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAEe,OAAO;QACtB,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAES,gBAAgB;QACzB,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE;YACzD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,WAAW,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACJ,CAAC;IAES,KAAK,CAAC,MAAM;QACrB,IAAI,IAAI,CAAC,YAAY,kCAA0B,EAAE;YAChD,OAAO;SACP;QAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAChD,IAAI,IAAI,CAAC,YAA4B,kCAA0B,EAAE;YAChE,OAAO;SACP;QAED,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC;IAC3C,CAAC;IAIS,WAAW;QACpB,IAAI,IAAI,CAAC,YAAY,kCAA0B,EAAE;YAChD,OAAO;SACP;QAED,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YAC9B,IAAI,CAAC,YAAY,8BAAsB,CAAC;YACxC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAC3D;aAAM;YACN,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,CAAC,YAAY,+BAAuB,CAAC;SACzC;IACF,CAAC;CACD;AAtFD,oCAsFC;;;;;;;;;;;;AC1GD,QAAQ,MAAM,aAAa,OAAO,QAAQ,cAAc,gGAAgG,gBAAgB,gCAAgC,YAAY,KAAK,gCAAgC,KAAK,gBAAgB,KAAK,WAAW,mBAAmB,wBAAwB,kGAAkG,yBAAyB,mBAAmB,yEAAyE,UAAU,oCAAoC,iBAAiB,SAAS,oCAAoC,+DAA+D,QAAQ,6BAA6B,SAAS,OAAO,mBAAmB,yCAAyC,UAAU,KAAK,MAAM,8GAA8G,yDAAyD,uBAAuB,+BAA+B,2DAA2D,4EAA4E,wBAAwB,6CAA6C,iBAAiB,kCAAkC,cAAc,mBAAmB,KAAK,mBAAmB,2CAA2C,qCAAqC,wBAAwB,4BAA4B,gDAAgD,YAAY,iCAAiC,KAAK,6BAA6B,iCAAiC,KAAK,wCAAwC,KAAK,KAAK,UAAU,QAAQ,gDAAgD,6BAA6B,oDAAoD,MAAM,wBAAwB,+BAA+B,cAAc,SAAS,YAAY,KAAK,iEAAiE,6EAA6E,uBAAuB,SAAS,qBAAqB,+BAA+B,0DAA0D,KAAK,iCAAiC,OAAO,IAAI,OAAO,UAAU,kDAAkD,wBAAwB,yFAAyF,KAAK,oBAAoB,+CAA+C,uCAAuC,sBAAsB,iBAAiB,KAAK,KAAK,sBAAsB,WAAW,OAAO,MAAM,OAAO,+EAA+E,mDAAmD,iBAAiB,KAAK,6BAA6B,OAAO,MAAM,OAAO,yBAAyB,6BAA6B,qBAAqB,KAAK,4CAA4C,KAAK,KAAK,sBAAsB,6EAA6E,YAAY,MAAM,OAAO,qEAAqE,oBAAoB,iIAAiI,qBAAqB,uDAAuD,kCAAkC,MAAM,mBAAmB,KAAK,OAAO,uCAAuC,yBAAyB,iCAAiC,uBAAuB,4CAA4C,KAAK,mGAAmG,YAAY,MAAM,MAAM,4QAA4Q,8CAA8C,uBAAuB,MAAM,cAAc,WAAW,+BAA+B,YAAY,YAAY,qCAAqC,YAAY,+DAA+D,uBAAuB,EAAE,8DAA8D,4FAA4F,eAAe,wCAAwC,SAAS,GAAG,SAAS,MAAM,MAAM,iBAAiB,sBAAsB,uCAAuC,KAAgB,CAAC,oCAAoC,0BAA0B,0BAA0B,2BAA2B,iCAAiC,aAAa,gCAAgC,cAAc,gBAAgB,sEAAsE,QAAQ,eAAe,wHAAwH,aAAa,mBAAmB,6EAA6E,gIAAgI,wBAAwB,+LAA+L,qBAAqB,kDAAkD,UAAU,0DAA0D,SAAS,oEAAoE,iEAAiE,8IAA8I,IAAI,kGAAkG,0BAA0B,+KAA+K,oKAAoK,UAAU,2BAA2B,yPAAyP,6CAA6C,eAAe,kBAAkB,+BAA+B,+BAA+B,kBAAkB,6DAA6D,kUAAkU,uBAAuB,mBAAmB,gBAAgB,uFAAuF,oBAAoB,QAAQ,iDAAiD,qBAAqB,uEAAuE,6BAA6B,oBAAoB,6DAA6D,kCAAkC,oCAAoC,+BAA+B,YAAY,sBAAsB,MAAM,2BAA2B,eAAe,oEAAoE,SAAS,GAAG,8BAA8B,aAAa,8CAA8C,0CAA0C,0DAA0D,eAAe,4DAA4D,+BAA+B,mCAAmC,uGAAuG,+BAA+B,OAAO,QAAQ,gSAAgS,GAAG,YAAY,uOAAuO,gBAAgB,0BAA0B,WAAW,KAAK,sBAAsB,6KAA6K,KAAK,8BAA8B,WAAW,wFAAwF,qEAAqE,cAAc,qBAAqB,WAAW,KAAK,sBAAsB,6EAA6E,sBAAsB,gBAAgB,MAAM,mWAAmW,gBAAgB,0EAA0E,oDAAoD,qBAAqB,WAAW,oBAAoB,iHAAiH,6FAA6F,MAAM,6JAA6J,2CAA2C,MAAM,iGAAiG,WAAW,2DAA2D,cAAc,IAAI,6BAA6B,SAAS,kDAAkD,oCAAoC,cAAc,2CAA2C,YAAY,KAAK,iCAAiC,oDAAoD,IAAI,qEAAqE,kDAAkD,oBAAoB,aAAa,uBAAuB,iBAAiB,mBAAmB,wBAAwB,eAAe,sCAAsC,EAAE,2BAA2B,iBAAiB,mBAAmB,wBAAwB,kBAAkB,uBAAuB,qCAAqC,6DAA6D,OAAO,EAAE,uBAAuB,0CAA0C,wBAAwB,0DAA0D,OAAO,EAAE,wBAAwB,0BAA0B,uBAAuB,0BAA0B,SAAS,GAAG,UAAU,IAAW,MAAM,UAAU;AACnqX;;;;;;;ACDA;;;gGAGgG;;;AAIhG,SAAgB,UAAU,CAAC,WAAgC;IAC1D,OAAO,WAAW,CAAC,MAAM,EAAE;QAC1B,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;QAC/B,IAAI,IAAI,EAAE;YACT,IAAI,CAAC,OAAO,EAAE,CAAC;SACf;KACD;AACF,CAAC;AAPD,gCAOC;AAED,MAAsB,UAAU;IAAhC;QACS,gBAAW,GAAG,KAAK,CAAC;QAElB,iBAAY,GAAwB,EAAE,CAAC;IAsBlD,CAAC;IApBO,OAAO;QACb,IAAI,IAAI,CAAC,WAAW,EAAE;YACrB,OAAO;SACP;QACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/B,CAAC;IAES,SAAS,CAA8B,KAAQ;QACxD,IAAI,IAAI,CAAC,WAAW,EAAE;YACrB,KAAK,CAAC,OAAO,EAAE,CAAC;SAChB;aAAM;YACN,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC9B;QACD,OAAO,KAAK,CAAC;IACd,CAAC;IAED,IAAc,UAAU;QACvB,OAAO,IAAI,CAAC,WAAW,CAAC;IACzB,CAAC;CACD;AAzBD,gCAyBC;;;;;;;;;;ACnCD,SAAgB,eAAe,CAAC,KAA0B;IACzD,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AACjD,CAAC;AAFD,0CAEC;AAED,SAAgB,QAAQ;IACvB,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,MAAM,QAAQ,GAAG,gEAAgE,CAAC;IAClF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;QAC5B,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;KACrE;IACD,OAAO,IAAI,CAAC;AACb,CAAC;AAPD,4BAOC;;;;;;;;ACjBD;;;gGAGgG;;;AAEhG,sCAAiC;AACjC,qDAA8D;AAG9D,MAAM,UAAU;IAMf,MAAM,CAAC,UAAU,CAAC,IAAY;QAC7B,IAAI,IAAI,GAAG,UAAU,CAAC,EAAE,EAAE;YACzB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SACnC;QAED,IAAI,IAAI,GAAG,UAAU,CAAC,EAAE,EAAE;YACzB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACjE;QAED,IAAI,IAAI,GAAG,UAAU,CAAC,EAAE,EAAE;YACzB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACjE;QAED,IAAI,IAAI,GAAG,UAAU,CAAC,EAAE,EAAE;YACzB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACjE;QAED,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAClE,CAAC;;AAvBe,aAAE,GAAG,IAAI,CAAC;AACV,aAAE,GAAG,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC;AACnC,aAAE,GAAG,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC;AACnC,aAAE,GAAG,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC;AAuBpD,MAAa,wBAAyB,SAAQ,2CAAqB;IAElE;QACC,KAAK,CAAC,gCAAgC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,mBAAmB,CAAC,EAAE,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IACnH,CAAC;IAEM,IAAI,CAAC,KAAc,EAAE,IAAwB;QACnD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC7B,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;SACnD;aAAM;YACN,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACjB;IACF,CAAC;CACD;AAbD,4DAaC;;;;;;;;ACjDD;;;gGAGgG;;;AAEhG,sCAAiC;AACjC,yCAA4C;AAE5C,MAAsB,qBAAsB,SAAQ,oBAAU;IAK7D,YAAY,EAAU,EAAE,IAAY,EAAE,SAAoC,EAAE,QAAgB;QAC3F,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC,EAAE,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;IACxB,CAAC;IAES,QAAQ,CAAC,KAAc,EAAE,IAAY;QAC9C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;IAEM,IAAI,CAAC,KAAc;QACzB,IAAI,KAAK,KAAK,IAAI,CAAC,UAAU,EAAE;YAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;SAC5B;IACF,CAAC;CACD;AAvBD,sDAuBC;;;;;;;;AC/BD;;;gGAGgG;;;AAEhG,sCAAiC;AAEjC,8CAA2E;AAC3E,qCAAwD;AACxD,qDAA0D;AAC1D,qDAAiE;AAGjE,MAAa,cAAc;IAO1B,YACkB,aAAyB,EACzB,kBAAsC,EACtC,wBAAkD,EAClD,kBAAsC;QAHtC,kBAAa,GAAb,aAAa,CAAY;QACzB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,6BAAwB,GAAxB,wBAAwB,CAA0B;QAClD,uBAAkB,GAAlB,kBAAkB,CAAoB;QAPvC,cAAS,GAAG,IAAI,GAAG,EAAgB,CAAC;IAQjD,CAAC;IAEE,KAAK,CAAC,kBAAkB,CAAC,GAAe;QAC9C,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,mBAAmB,CAC/B,QAA+B,EAC/B,aAAkC;QAElC,MAAM,OAAO,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACnK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAE/B,aAAa,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEtE,aAAa,CAAC,oBAAoB,CAAC,GAAG,EAAE;YACvC,IAAI,aAAa,CAAC,MAAM,EAAE;gBACzB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC/B;iBAAM,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACpE,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;aACjC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,IAAW,aAAa,KAAK,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;IAElD,gBAAgB,CAAC,KAA+B;QACvD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;IAC7B,CAAC;;AAzCF,wCA0CC;AAxCuB,uBAAQ,GAAG,4BAA4B,CAAC;AA2ChE,MAAM,YAAa,SAAQ,2BAAY;IAOtC,YACkB,aAAyB,EAC1C,QAAoB,EACpB,aAAkC,EACjB,kBAAsC,EACvD,wBAAkD,EACjC,kBAAsC;QAEvD,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,aAAa,EAAE,wBAAwB,CAAC,CAAC;QAPvD,kBAAa,GAAb,aAAa,CAAY;QAGzB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAEtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QARvC,oBAAe,GAAG,4HAA4H,CAAC;QAY/J,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;YAClE,QAAQ,OAAO,CAAC,IAAI,EAAE;gBACrB,KAAK,MAAM,CAAC,CAAC;oBACZ,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC;oBAChC,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,MAAM;iBACN;gBACD,KAAK,MAAM,CAAC,CAAC;oBACZ,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC;oBAChC,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,MAAM;iBACN;gBACD,KAAK,gBAAgB,CAAC,CAAC;oBACtB,+BAAY,EAAC,QAAQ,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;oBACjD,MAAM;iBACN;aACD;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE;YACtD,IAAI,IAAI,CAAC,YAAY,gCAAwB,EAAE;gBAC9C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;aAC7E;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,oBAAoB,CAAC,GAAG,EAAE;YACtD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC;QACjG,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,EAAE;YAC9C,IAAI,IAAI,CAAC,YAAY,gCAAwB,EAAE;gBAC9C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACnC;YACD,IAAI,CAAC,YAAY,gCAAwB,CAAC;QAC3C,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC;IACjG,CAAC;IAEe,OAAO;QACtB,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAEM,MAAM;QACZ,IAAI,IAAI,CAAC,YAAY,gCAAwB,EAAE;YAC9C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;SAC3D;IACF,CAAC;IAEM,OAAO;QACb,IAAI,IAAI,CAAC,YAAY,gCAAwB,EAAE;YAC9C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;SAC5D;IACF,CAAC;IAEM,SAAS;QACf,IAAI,IAAI,CAAC,YAAY,gCAAwB,EAAE;YAC9C,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;SAC9D;IACF,CAAC;IAEkB,WAAW;QAC7B,KAAK,CAAC,WAAW,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,YAAY,kCAA0B,EAAE;YAChD,OAAO;SACP;QAED,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YAC9B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC;YAC1D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,CAAC;SAC7D;aAAM;YACN,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnC;IACF,CAAC;IAEkB,KAAK,CAAC,kBAAkB;QAC1C,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,QAAQ,GAAG;YAChB,GAAG,EAAE,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC;SAC3E,CAAC;QAEF,MAAM,KAAK,GAAG,kBAAQ,GAAE,CAAC;QAEzB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC;QACvD,OAAO,UAAU;;;;;;;;;;;gCAWa,yBAAe,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC,2CAA2C,KAAK;;yFAE3D,SAAS,iBAAiB,SAAS,uBAAuB,KAAK,gBAAgB,SAAS,WAAW,KAAK;oDAC7I,yBAAe,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;;;;;OAKtF,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,4CAA4C,CAAC;uCAC3B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,wDAAwD,CAAC;;gBAE9F,yBAAe,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,YAAY,KAAK;;QAE5F,CAAC;IACR,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,aAAkC,EAAE,QAAoB,EAAE,OAAe;QACtG,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK,EAAE;YAC9B,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtD,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE;gBACpB,OAAO,IAAI,CAAC,eAAe,CAAC;aAC5B;SACD;QAED,gEAAgE;QAChE,IAAI,QAAQ,CAAC,KAAK,EAAE;YACnB,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC/D;QACD,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,OAAO,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtG,CAAC;IAEO,iBAAiB,CAAC,GAAG,KAAe;QAC3C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC;IACnG,CAAC;CACD;AAGD,SAAgB,2BAA2B,CAAC,OAAgC,EAAE,wBAAkD;IAC/H,MAAM,WAAW,GAAwB,EAAE,CAAC;IAE5C,MAAM,kBAAkB,GAAG,IAAI,uCAAkB,EAAE,CAAC;IACpD,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAErC,MAAM,kBAAkB,GAAG,IAAI,uCAAkB,EAAE,CAAC;IACpD,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAErC,MAAM,cAAc,GAAG,IAAI,cAAc,CAAC,OAAO,CAAC,YAAY,EAAE,kBAAkB,EAAE,wBAAwB,EAAE,kBAAkB,CAAC,CAAC;IAElI,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,4BAA4B,CAAC,cAAc,CAAC,QAAQ,EAAE,cAAc,EAAE;QACpG,kCAAkC,EAAE,IAAI;KACxC,CAAC,CAAC,CAAC;IAEJ,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,qBAAqB,EAAE,GAAG,EAAE;QAC5E,cAAc,CAAC,aAAa,EAAE,MAAM,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC,CAAC;IAEJ,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,sBAAsB,EAAE,GAAG,EAAE;QAC7E,cAAc,CAAC,aAAa,EAAE,OAAO,EAAE,CAAC;IACzC,CAAC,CAAC,CAAC,CAAC;IAEJ,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,wBAAwB,EAAE,GAAG,EAAE;QAC/E,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,CAAC;IAC3C,CAAC,CAAC,CAAC,CAAC;IAEJ,OAAO,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC,CAAC;AAC/C,CAAC;AA5BD,kEA4BC;;;;;;;;ACrPD;;;gGAGgG;;;AAEhG,sCAAiC;AACjC,qDAA+D;AAG/D,MAAa,kBAAmB,SAAQ,2CAAqB;IAE5D;QACC,KAAK,CAAC,0BAA0B,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,GAAG,CAAC,wCAAwC,CAAC,CAAC;IAC/I,CAAC;IAEM,IAAI,CAAC,KAAc,EAAE,IAAY;QACvC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC5B,CAAC;CACD;AATD,gDASC;;;;;;;;AClBD;;;gGAGgG;;;AAEhG,sCAAiC;AACjC,qDAAsF;AAGtF,MAAM,wBAAwB,GAAG,+BAA+B,CAAC;AAIjE,MAAa,kBAAmB,SAAQ,2CAAmB;IAK1D;QACC,KAAK,CAAC,0BAA0B,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,GAAG,CAAC,4CAA4C,CAAC,CAAC;QAJlI,sBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,YAAY,EAAoB,CAAC,CAAC;QACjF,qBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;QAK/D,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;YAGnF,MAAM,MAAM,GAAY,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YACvD,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAc,EAAE,CAAC,CAAC;gBAClD,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;gBAC5B,KAAK;aACL,CAAC,CAAC,CAAC;YAEJ,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,EAAE;gBACvD,WAAW,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,mBAAmB,CAAC;aAC/C,CAAC,CAAC;YACH,IAAI,IAAI,EAAE;gBACT,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;aACnD;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,wBAAwB,CAAC;IAC/C,CAAC;IAEM,IAAI,CAAC,KAAc,EAAE,KAAY;QACvC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IAC7C,CAAC;IAEO,SAAS,CAAC,KAAY;QAC7B,OAAO,KAAK,KAAK,KAAK;YACrB,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;YAC9B,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;IAClC,CAAC;CACD;AArCD,gDAqCC;;;;;;;;AClDD;;;gGAGgG;;;AAEhG,sCAAiC;AAEjC,8CAA4D;AAC5D,qCAAuD;AAGvD,MAAM,oBAAoB;IAIzB,YACkB,aAAyB,EACzB,wBAAkD;QADlD,kBAAa,GAAb,aAAa,CAAY;QACzB,6BAAwB,GAAxB,wBAAwB,CAA0B;IAChE,CAAC;IAEE,KAAK,CAAC,kBAAkB,CAAC,GAAe;QAC9C,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,mBAAmB,CAAC,QAA+B,EAAE,aAAkC;QACnG,IAAI,YAAY,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAClG,CAAC;;AAbsB,6BAAQ,GAAG,qBAAqB,CAAC;AAiBzD,MAAM,YAAa,SAAQ,2BAAY;IAEtC,YACkB,aAAyB,EAC1C,QAAoB,EACpB,aAAkC,EAClC,wBAAkD;QAElD,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,aAAa,EAAE,wBAAwB,CAAC,CAAC;QALvD,kBAAa,GAAb,aAAa,CAAY;QAO1C,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;YAClE,QAAQ,OAAO,CAAC,IAAI,EAAE;gBACrB,KAAK,gBAAgB,CAAC,CAAC;oBACtB,+BAAY,EAAC,QAAQ,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC;oBACjD,MAAM;iBACN;aACD;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,WAAW,EAAE,CAAC;IACpB,CAAC;IAES,KAAK,CAAC,kBAAkB;QACjC,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;QAC/E,MAAM,QAAQ,GAAG;YAChB,GAAG,EAAE,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC;YAC3E,QAAQ,EAAE,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC;YACxC,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC;SAChC,CAAC;QAEF,MAAM,KAAK,GAAG,kBAAQ,GAAE,CAAC;QAEzB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC;QACvD,OAAO,UAAU;;;;;;;;;;;gCAWa,yBAAe,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC,2CAA2C,KAAK;;yFAE3D,SAAS,eAAe,SAAS,uBAAuB,KAAK,gBAAgB,SAAS,WAAW,KAAK;sCACzJ,yBAAe,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;;;;;OAKxE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,iDAAiD,CAAC;uCAChC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,wDAAwD,CAAC;;gBAE9F,yBAAe,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,YAAY,KAAK;;QAE5F,CAAC;IACR,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,aAAkC,EAAE,QAAoB,EAAE,OAAe;QACtG,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK,EAAE;YAC9B,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtD,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE;gBACpB,gCAAgC;gBAChC,OAAO,IAAI,CAAC;aACZ;SACD;QAED,gEAAgE;QAChE,IAAI,QAAQ,CAAC,KAAK,EAAE;YACnB,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC/D;QACD,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,OAAO,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtG,CAAC;IAEO,iBAAiB,CAAC,GAAG,KAAe;QAC3C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC;IACnG,CAAC;CACD;AAED,SAAgB,2BAA2B,CAAC,OAAgC,EAAE,wBAAkD;IAC/H,MAAM,QAAQ,GAAG,IAAI,oBAAoB,CAAC,OAAO,CAAC,YAAY,EAAE,wBAAwB,CAAC,CAAC;IAC1F,OAAO,MAAM,CAAC,MAAM,CAAC,4BAA4B,CAAC,oBAAoB,CAAC,QAAQ,EAAE,QAAQ,EAAE;QAC1F,kCAAkC,EAAE,IAAI;QACxC,cAAc,EAAE;YACf,uBAAuB,EAAE,IAAI;SAC7B;KACD,CAAC,CAAC;AACJ,CAAC;AARD,kEAQC;;;;;;UC1HD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;ACNA;;;gGAGgG;;;AAGhG,8CAA6D;AAC7D,0DAAsE;AACtE,8CAA6D;AAC7D,+CAA6D;AAE7D,SAAgB,QAAQ,CAAC,OAAgC;IACxD,MAAM,wBAAwB,GAAG,IAAI,mDAAwB,EAAE,CAAC;IAChE,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAErD,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,8CAA2B,EAAC,OAAO,EAAE,wBAAwB,CAAC,CAAC,CAAC;IAC3F,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,8CAA2B,EAAC,OAAO,EAAE,wBAAwB,CAAC,CAAC,CAAC;IAC3F,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,8CAA2B,EAAC,OAAO,EAAE,wBAAwB,CAAC,CAAC,CAAC;AAC5F,CAAC;AAPD,4BAOC","sources":["webpack://media-preview/./src/audioPreview.ts","webpack://media-preview/external commonjs \"vscode\"","webpack://media-preview/./src/mediaPreview.ts","webpack://media-preview/./node_modules/vscode-uri/lib/esm/index.js","webpack://media-preview/./src/util/dispose.ts","webpack://media-preview/./src/util/dom.ts","webpack://media-preview/./src/binarySizeStatusBarEntry.ts","webpack://media-preview/./src/ownedStatusBarEntry.ts","webpack://media-preview/./src/imagePreview/index.ts","webpack://media-preview/./src/imagePreview/sizeStatusBarEntry.ts","webpack://media-preview/./src/imagePreview/zoomStatusBarEntry.ts","webpack://media-preview/./src/videoPreview.ts","webpack://media-preview/webpack/bootstrap","webpack://media-preview/webpack/runtime/define property getters","webpack://media-preview/webpack/runtime/hasOwnProperty shorthand","webpack://media-preview/webpack/runtime/make namespace object","webpack://media-preview/./src/extension.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { BinarySizeStatusBarEntry } from './binarySizeStatusBarEntry';\nimport { MediaPreview, reopenAsText } from './mediaPreview';\nimport { escapeAttribute, getNonce } from './util/dom';\n\nclass AudioPreviewProvider implements vscode.CustomReadonlyEditorProvider {\n\n\tpublic static readonly viewType = 'vscode.audioPreview';\n\n\tconstructor(\n\t\tprivate readonly extensionRoot: vscode.Uri,\n\t\tprivate readonly binarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t) { }\n\n\tpublic async openCustomDocument(uri: vscode.Uri) {\n\t\treturn { uri, dispose: () => { } };\n\t}\n\n\tpublic async resolveCustomEditor(document: vscode.CustomDocument, webviewEditor: vscode.WebviewPanel): Promise<void> {\n\t\tnew AudioPreview(this.extensionRoot, document.uri, webviewEditor, this.binarySizeStatusBarEntry);\n\t}\n}\n\n\nclass AudioPreview extends MediaPreview {\n\n\tconstructor(\n\t\tprivate readonly extensionRoot: vscode.Uri,\n\t\tresource: vscode.Uri,\n\t\twebviewEditor: vscode.WebviewPanel,\n\t\tbinarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t) {\n\t\tsuper(extensionRoot, resource, webviewEditor, binarySizeStatusBarEntry);\n\n\t\tthis._register(webviewEditor.webview.onDidReceiveMessage(message => {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase 'reopen-as-text': {\n\t\t\t\t\treopenAsText(resource, webviewEditor.viewColumn);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.updateBinarySize();\n\t\tthis.render();\n\t\tthis.updateState();\n\t}\n\n\tprotected async getWebviewContents(): Promise<string> {\n\t\tconst version = Date.now().toString();\n\t\tconst settings = {\n\t\t\tsrc: await this.getResourcePath(this.webviewEditor, this.resource, version),\n\t\t};\n\n\t\tconst nonce = getNonce();\n\n\t\tconst cspSource = this.webviewEditor.webview.cspSource;\n\t\treturn /* html */`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\n\t<!-- Disable pinch zooming -->\n\t<meta name=\"viewport\"\n\t\tcontent=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no\">\n\n\t<title>Audio Preview</title>\n\n\t<link rel=\"stylesheet\" href=\"${escapeAttribute(this.extensionResource('media', 'audioPreview.css'))}\" type=\"text/css\" media=\"screen\" nonce=\"${nonce}\">\n\n\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src data: ${cspSource}; media-src ${cspSource}; script-src 'nonce-${nonce}'; style-src ${cspSource} 'nonce-${nonce}';\">\n\t<meta id=\"settings\" data-settings=\"${escapeAttribute(JSON.stringify(settings))}\">\n</head>\n<body class=\"container loading\" data-vscode-context='{ \"preventDefaultContextMenuItems\": true }'>\n\t<div class=\"loading-indicator\"></div>\n\t<div class=\"loading-error\">\n\t\t<p>${vscode.l10n.t(\"An error occurred while loading the audio file.\")}</p>\n\t\t<a href=\"#\" class=\"open-file-link\">${vscode.l10n.t(\"Open file using VS Code's standard text/binary editor?\")}</a>\n\t</div>\n\t<script src=\"${escapeAttribute(this.extensionResource('media', 'audioPreview.js'))}\" nonce=\"${nonce}\"></script>\n</body>\n</html>`;\n\t}\n\n\tprivate async getResourcePath(webviewEditor: vscode.WebviewPanel, resource: vscode.Uri, version: string): Promise<string | null> {\n\t\tif (resource.scheme === 'git') {\n\t\t\tconst stat = await vscode.workspace.fs.stat(resource);\n\t\t\tif (stat.size === 0) {\n\t\t\t\t// The file is stored on git lfs\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// Avoid adding cache busting if there is already a query string\n\t\tif (resource.query) {\n\t\t\treturn webviewEditor.webview.asWebviewUri(resource).toString();\n\t\t}\n\t\treturn webviewEditor.webview.asWebviewUri(resource).with({ query: `version=${version}` }).toString();\n\t}\n\n\tprivate extensionResource(...parts: string[]) {\n\t\treturn this.webviewEditor.webview.asWebviewUri(vscode.Uri.joinPath(this.extensionRoot, ...parts));\n\t}\n}\n\nexport function registerAudioPreviewSupport(context: vscode.ExtensionContext, binarySizeStatusBarEntry: BinarySizeStatusBarEntry): vscode.Disposable {\n\tconst provider = new AudioPreviewProvider(context.extensionUri, binarySizeStatusBarEntry);\n\treturn vscode.window.registerCustomEditorProvider(AudioPreviewProvider.viewType, provider, {\n\t\tsupportsMultipleEditorsPerDocument: true,\n\t\twebviewOptions: {\n\t\t\tretainContextWhenHidden: true,\n\t\t}\n\t});\n}\n","module.exports = require(\"vscode\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { Utils } from 'vscode-uri';\nimport { BinarySizeStatusBarEntry } from './binarySizeStatusBarEntry';\nimport { Disposable } from './util/dispose';\n\nexport function reopenAsText(resource: vscode.Uri, viewColumn: vscode.ViewColumn | undefined) {\n\tvscode.commands.executeCommand('vscode.openWith', resource, 'default', viewColumn);\n}\n\nexport const enum PreviewState {\n\tDisposed,\n\tVisible,\n\tActive,\n}\n\nexport abstract class MediaPreview extends Disposable {\n\n\tprotected previewState = PreviewState.Visible;\n\tprivate _binarySize: number | undefined;\n\n\tconstructor(\n\t\textensionRoot: vscode.Uri,\n\t\tprotected readonly resource: vscode.Uri,\n\t\tprotected readonly webviewEditor: vscode.WebviewPanel,\n\t\tprivate readonly binarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t) {\n\t\tsuper();\n\n\t\twebviewEditor.webview.options = {\n\t\t\tenableScripts: true,\n\t\t\tenableForms: false,\n\t\t\tlocalResourceRoots: [\n\t\t\t\tUtils.dirname(resource),\n\t\t\t\textensionRoot,\n\t\t\t]\n\t\t};\n\n\t\tthis._register(webviewEditor.onDidChangeViewState(() => {\n\t\t\tthis.updateState();\n\t\t}));\n\n\t\tthis._register(webviewEditor.onDidDispose(() => {\n\t\t\tthis.previewState = PreviewState.Disposed;\n\t\t\tthis.dispose();\n\t\t}));\n\n\t\tconst watcher = this._register(vscode.workspace.createFileSystemWatcher(new vscode.RelativePattern(resource, '*')));\n\t\tthis._register(watcher.onDidChange(e => {\n\t\t\tif (e.toString() === this.resource.toString()) {\n\t\t\t\tthis.updateBinarySize();\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(watcher.onDidDelete(e => {\n\t\t\tif (e.toString() === this.resource.toString()) {\n\t\t\t\tthis.webviewEditor.dispose();\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic override dispose() {\n\t\tsuper.dispose();\n\t\tthis.binarySizeStatusBarEntry.hide(this);\n\t}\n\n\tprotected updateBinarySize() {\n\t\tvscode.workspace.fs.stat(this.resource).then(({ size }) => {\n\t\t\tthis._binarySize = size;\n\t\t\tthis.updateState();\n\t\t});\n\t}\n\n\tprotected async render() {\n\t\tif (this.previewState === PreviewState.Disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst content = await this.getWebviewContents();\n\t\tif (this.previewState as PreviewState === PreviewState.Disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.webviewEditor.webview.html = content;\n\t}\n\n\tprotected abstract getWebviewContents(): Promise<string>;\n\n\tprotected updateState() {\n\t\tif (this.previewState === PreviewState.Disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.webviewEditor.active) {\n\t\t\tthis.previewState = PreviewState.Active;\n\t\t\tthis.binarySizeStatusBarEntry.show(this, this._binarySize);\n\t\t} else {\n\t\t\tthis.binarySizeStatusBarEntry.hide(this);\n\t\t\tthis.previewState = PreviewState.Visible;\n\t\t}\n\t}\n}\n","var LIB;(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,c=a<s?a:s,f=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else a>c&&(47===t.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(o+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var p=\"\";for(u=o+f+1;u<=i;++u)u!==i&&47!==t.charCodeAt(u)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(o=t.charCodeAt(f)))-1===s&&(c=!1,s=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){h=f+1;break}return-1===a||-1===s||0===u||1===u&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};(()=>{var t;if(r.r(n),r.d(n,{URI:()=>p,Utils:()=>_}),\"object\"==typeof process)t=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var e=navigator.userAgent;t=e.indexOf(\"Windows\")>=0}var o,i,a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(t,e)},function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=/^\\w[\\w\\d+.-]*$/,s=/^\\//,c=/^\\/\\//,f=\"\",u=\"/\",l=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,p=function(){function e(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||f,this.authority=t.authority||f,this.path=t.path||f,this.query=t.query||f,this.fragment=t.fragment||f):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||f,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==u&&(e=u+e):e=u}return e}(this.scheme,r||f),this.query=n||f,this.fragment=o||f,function(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'.concat(t.authority,'\", path: \"').concat(t.path,'\", query: \"').concat(t.query,'\", fragment: \"').concat(t.fragment,'\"}'));if(t.scheme&&!h.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!s.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(c.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}(this,i))}return e.isUri=function(t){return t instanceof e||!!t&&\"string\"==typeof t.authority&&\"string\"==typeof t.fragment&&\"string\"==typeof t.path&&\"string\"==typeof t.query&&\"string\"==typeof t.scheme&&\"string\"==typeof t.fsPath&&\"function\"==typeof t.with&&\"function\"==typeof t.toString},Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=f),void 0===r?r=this.authority:null===r&&(r=f),void 0===n?n=this.path:null===n&&(n=f),void 0===o?o=this.query:null===o&&(o=f),void 0===i?i=this.fragment:null===i&&(i=f),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new d(e,r,n,o,i)},e.parse=function(t,e){void 0===e&&(e=!1);var r=l.exec(t);return r?new d(r[2]||f,x(r[4]||f),x(r[5]||f),x(r[7]||f),x(r[9]||f),e):new d(f,f,f,f,f)},e.file=function(e){var r=f;if(t&&(e=e.replace(/\\\\/g,u)),e[0]===u&&e[1]===u){var n=e.indexOf(u,2);-1===n?(r=e.substring(2),e=u):(r=e.substring(2,n),e=e.substring(n)||u)}return new d(\"file\",r,e,f,f)},e.from=function(t){return new d(t.scheme,t.authority,t.path,t.query,t.fragment)},e.prototype.toString=function(t){return void 0===t&&(t=!1),C(this,t)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var r=new d(t);return r._formatted=t.external,r._fsPath=t._sep===g?t.fsPath:null,r}return t},e}(),g=t?1:void 0,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return a(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=g),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(p),v=((i={})[58]=\"%3A\",i[47]=\"%2F\",i[63]=\"%3F\",i[35]=\"%23\",i[91]=\"%5B\",i[93]=\"%5D\",i[64]=\"%40\",i[33]=\"%21\",i[36]=\"%24\",i[38]=\"%26\",i[39]=\"%27\",i[40]=\"%28\",i[41]=\"%29\",i[42]=\"%2A\",i[43]=\"%2B\",i[44]=\"%2C\",i[59]=\"%3B\",i[61]=\"%3D\",i[32]=\"%20\",i);function y(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=v[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function m(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=v[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function b(e,r){var n;return n=e.authority&&e.path.length>1&&\"file\"===e.scheme?\"//\".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?r?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,t&&(n=n.replace(/\\//g,\"\\\\\")),n}function C(t,e){var r=e?m:y,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=u,n+=u),i){var c=i.indexOf(\"@\");if(-1!==c){var f=i.substr(0,c);i=i.substr(c+1),-1===(c=f.indexOf(\":\"))?n+=r(f,!1):(n+=r(f.substr(0,c),!1),n+=\":\",n+=r(f.substr(c+1),!1)),n+=\"@\"}-1===(c=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,c),!1),n+=i.substr(c))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(l=a.charCodeAt(1))>=65&&l<=90&&(a=\"/\".concat(String.fromCharCode(l+32),\":\").concat(a.substr(3)));else if(a.length>=2&&58===a.charCodeAt(1)){var l;(l=a.charCodeAt(0))>=65&&l<=90&&(a=\"\".concat(String.fromCharCode(l+32),\":\").concat(a.substr(2)))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:y(s,!1)),n}function A(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+A(t.substr(3)):t}}var w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(t){return t.match(w)?t.replace(w,(function(t){return A(t)})):t}var _,O=r(470),P=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},j=O.posix||O,U=\"/\";!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:j.join.apply(j,P([t.path],e,!1))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path,o=!1;n[0]!==U&&(n=U+n,o=!0);var i=j.resolve.apply(j,P([n],e,!1));return o&&i[0]===U&&!t.authority&&(i=i.substring(1)),t.with({path:i})},t.dirname=function(t){if(0===t.path.length||t.path===U)return t;var e=j.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)&&(e=\"\"),t.with({path:e})},t.basename=function(t){return j.basename(t.path)},t.extname=function(t){return j.extname(t.path)}}(_||(_={}))})(),LIB=n})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\n\nexport function disposeAll(disposables: vscode.Disposable[]) {\n\twhile (disposables.length) {\n\t\tconst item = disposables.pop();\n\t\tif (item) {\n\t\t\titem.dispose();\n\t\t}\n\t}\n}\n\nexport abstract class Disposable {\n\tprivate _isDisposed = false;\n\n\tprotected _disposables: vscode.Disposable[] = [];\n\n\tpublic dispose(): any {\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isDisposed = true;\n\t\tdisposeAll(this._disposables);\n\t}\n\n\tprotected _register<T extends vscode.Disposable>(value: T): T {\n\t\tif (this._isDisposed) {\n\t\t\tvalue.dispose();\n\t\t} else {\n\t\t\tthis._disposables.push(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tprotected get isDisposed() {\n\t\treturn this._isDisposed;\n\t}\n}","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as vscode from 'vscode';\n\nexport function escapeAttribute(value: string | vscode.Uri): string {\n\treturn value.toString().replace(/\"/g, '&quot;');\n}\n\nexport function getNonce() {\n\tlet text = '';\n\tconst possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\tfor (let i = 0; i < 64; i++) {\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\t}\n\treturn text;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { PreviewStatusBarEntry } from './ownedStatusBarEntry';\n\n\nclass BinarySize {\n\tstatic readonly KB = 1024;\n\tstatic readonly MB = BinarySize.KB * BinarySize.KB;\n\tstatic readonly GB = BinarySize.MB * BinarySize.KB;\n\tstatic readonly TB = BinarySize.GB * BinarySize.KB;\n\n\tstatic formatSize(size: number): string {\n\t\tif (size < BinarySize.KB) {\n\t\t\treturn vscode.l10n.t(\"{0}B\", size);\n\t\t}\n\n\t\tif (size < BinarySize.MB) {\n\t\t\treturn vscode.l10n.t(\"{0}KB\", (size / BinarySize.KB).toFixed(2));\n\t\t}\n\n\t\tif (size < BinarySize.GB) {\n\t\t\treturn vscode.l10n.t(\"{0}MB\", (size / BinarySize.MB).toFixed(2));\n\t\t}\n\n\t\tif (size < BinarySize.TB) {\n\t\t\treturn vscode.l10n.t(\"{0}GB\", (size / BinarySize.GB).toFixed(2));\n\t\t}\n\n\t\treturn vscode.l10n.t(\"{0}TB\", (size / BinarySize.TB).toFixed(2));\n\t}\n}\n\nexport class BinarySizeStatusBarEntry extends PreviewStatusBarEntry {\n\n\tconstructor() {\n\t\tsuper('status.imagePreview.binarySize', vscode.l10n.t(\"Image Binary Size\"), vscode.StatusBarAlignment.Right, 100);\n\t}\n\n\tpublic show(owner: unknown, size: number | undefined) {\n\t\tif (typeof size === 'number') {\n\t\t\tsuper.showItem(owner, BinarySize.formatSize(size));\n\t\t} else {\n\t\t\tthis.hide(owner);\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { Disposable } from './util/dispose';\n\nexport abstract class PreviewStatusBarEntry extends Disposable {\n\tprivate _showOwner: unknown | undefined;\n\n\tprotected readonly entry: vscode.StatusBarItem;\n\n\tconstructor(id: string, name: string, alignment: vscode.StatusBarAlignment, priority: number) {\n\t\tsuper();\n\t\tthis.entry = this._register(vscode.window.createStatusBarItem(id, alignment, priority));\n\t\tthis.entry.name = name;\n\t}\n\n\tprotected showItem(owner: unknown, text: string) {\n\t\tthis._showOwner = owner;\n\t\tthis.entry.text = text;\n\t\tthis.entry.show();\n\t}\n\n\tpublic hide(owner: unknown) {\n\t\tif (owner === this._showOwner) {\n\t\t\tthis.entry.hide();\n\t\t\tthis._showOwner = undefined;\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { BinarySizeStatusBarEntry } from '../binarySizeStatusBarEntry';\nimport { MediaPreview, PreviewState, reopenAsText } from '../mediaPreview';\nimport { escapeAttribute, getNonce } from '../util/dom';\nimport { SizeStatusBarEntry } from './sizeStatusBarEntry';\nimport { Scale, ZoomStatusBarEntry } from './zoomStatusBarEntry';\n\n\nexport class PreviewManager implements vscode.CustomReadonlyEditorProvider {\n\n\tpublic static readonly viewType = 'imagePreview.previewEditor';\n\n\tprivate readonly _previews = new Set<ImagePreview>();\n\tprivate _activePreview: ImagePreview | undefined;\n\n\tconstructor(\n\t\tprivate readonly extensionRoot: vscode.Uri,\n\t\tprivate readonly sizeStatusBarEntry: SizeStatusBarEntry,\n\t\tprivate readonly binarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t\tprivate readonly zoomStatusBarEntry: ZoomStatusBarEntry,\n\t) { }\n\n\tpublic async openCustomDocument(uri: vscode.Uri) {\n\t\treturn { uri, dispose: () => { } };\n\t}\n\n\tpublic async resolveCustomEditor(\n\t\tdocument: vscode.CustomDocument,\n\t\twebviewEditor: vscode.WebviewPanel,\n\t): Promise<void> {\n\t\tconst preview = new ImagePreview(this.extensionRoot, document.uri, webviewEditor, this.sizeStatusBarEntry, this.binarySizeStatusBarEntry, this.zoomStatusBarEntry);\n\t\tthis._previews.add(preview);\n\t\tthis.setActivePreview(preview);\n\n\t\twebviewEditor.onDidDispose(() => { this._previews.delete(preview); });\n\n\t\twebviewEditor.onDidChangeViewState(() => {\n\t\t\tif (webviewEditor.active) {\n\t\t\t\tthis.setActivePreview(preview);\n\t\t\t} else if (this._activePreview === preview && !webviewEditor.active) {\n\t\t\t\tthis.setActivePreview(undefined);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic get activePreview() { return this._activePreview; }\n\n\tprivate setActivePreview(value: ImagePreview | undefined): void {\n\t\tthis._activePreview = value;\n\t}\n}\n\n\nclass ImagePreview extends MediaPreview {\n\n\tprivate _imageSize: string | undefined;\n\tprivate _imageZoom: Scale | undefined;\n\n\tprivate readonly emptyPngDataUri = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAEElEQVR42gEFAPr/AP///wAI/AL+Sr4t6gAAAABJRU5ErkJggg==';\n\n\tconstructor(\n\t\tprivate readonly extensionRoot: vscode.Uri,\n\t\tresource: vscode.Uri,\n\t\twebviewEditor: vscode.WebviewPanel,\n\t\tprivate readonly sizeStatusBarEntry: SizeStatusBarEntry,\n\t\tbinarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t\tprivate readonly zoomStatusBarEntry: ZoomStatusBarEntry,\n\t) {\n\t\tsuper(extensionRoot, resource, webviewEditor, binarySizeStatusBarEntry);\n\n\t\tthis._register(webviewEditor.webview.onDidReceiveMessage(message => {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase 'size': {\n\t\t\t\t\tthis._imageSize = message.value;\n\t\t\t\t\tthis.updateState();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'zoom': {\n\t\t\t\t\tthis._imageZoom = message.value;\n\t\t\t\t\tthis.updateState();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'reopen-as-text': {\n\t\t\t\t\treopenAsText(resource, webviewEditor.viewColumn);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(zoomStatusBarEntry.onDidChangeScale(e => {\n\t\t\tif (this.previewState === PreviewState.Active) {\n\t\t\t\tthis.webviewEditor.webview.postMessage({ type: 'setScale', scale: e.scale });\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(webviewEditor.onDidChangeViewState(() => {\n\t\t\tthis.webviewEditor.webview.postMessage({ type: 'setActive', value: this.webviewEditor.active });\n\t\t}));\n\n\t\tthis._register(webviewEditor.onDidDispose(() => {\n\t\t\tif (this.previewState === PreviewState.Active) {\n\t\t\t\tthis.sizeStatusBarEntry.hide(this);\n\t\t\t\tthis.zoomStatusBarEntry.hide(this);\n\t\t\t}\n\t\t\tthis.previewState = PreviewState.Disposed;\n\t\t}));\n\n\t\tthis.updateBinarySize();\n\t\tthis.render();\n\t\tthis.updateState();\n\n\t\tthis.webviewEditor.webview.postMessage({ type: 'setActive', value: this.webviewEditor.active });\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.sizeStatusBarEntry.hide(this);\n\t\tthis.zoomStatusBarEntry.hide(this);\n\t}\n\n\tpublic zoomIn() {\n\t\tif (this.previewState === PreviewState.Active) {\n\t\t\tthis.webviewEditor.webview.postMessage({ type: 'zoomIn' });\n\t\t}\n\t}\n\n\tpublic zoomOut() {\n\t\tif (this.previewState === PreviewState.Active) {\n\t\t\tthis.webviewEditor.webview.postMessage({ type: 'zoomOut' });\n\t\t}\n\t}\n\n\tpublic copyImage() {\n\t\tif (this.previewState === PreviewState.Active) {\n\t\t\tthis.webviewEditor.reveal();\n\t\t\tthis.webviewEditor.webview.postMessage({ type: 'copyImage' });\n\t\t}\n\t}\n\n\tprotected override updateState() {\n\t\tsuper.updateState();\n\n\t\tif (this.previewState === PreviewState.Disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.webviewEditor.active) {\n\t\t\tthis.sizeStatusBarEntry.show(this, this._imageSize || '');\n\t\t\tthis.zoomStatusBarEntry.show(this, this._imageZoom || 'fit');\n\t\t} else {\n\t\t\tthis.sizeStatusBarEntry.hide(this);\n\t\t\tthis.zoomStatusBarEntry.hide(this);\n\t\t}\n\t}\n\n\tprotected override async getWebviewContents(): Promise<string> {\n\t\tconst version = Date.now().toString();\n\t\tconst settings = {\n\t\t\tsrc: await this.getResourcePath(this.webviewEditor, this.resource, version),\n\t\t};\n\n\t\tconst nonce = getNonce();\n\n\t\tconst cspSource = this.webviewEditor.webview.cspSource;\n\t\treturn /* html */`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\n\t<!-- Disable pinch zooming -->\n\t<meta name=\"viewport\"\n\t\tcontent=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no\">\n\n\t<title>Image Preview</title>\n\n\t<link rel=\"stylesheet\" href=\"${escapeAttribute(this.extensionResource('media', 'imagePreview.css'))}\" type=\"text/css\" media=\"screen\" nonce=\"${nonce}\">\n\n\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src data: ${cspSource}; connect-src ${cspSource}; script-src 'nonce-${nonce}'; style-src ${cspSource} 'nonce-${nonce}';\">\n\t<meta id=\"image-preview-settings\" data-settings=\"${escapeAttribute(JSON.stringify(settings))}\">\n</head>\n<body class=\"container image scale-to-fit loading\" data-vscode-context='{ \"preventDefaultContextMenuItems\": true }'>\n\t<div class=\"loading-indicator\"></div>\n\t<div class=\"image-load-error\">\n\t\t<p>${vscode.l10n.t(\"An error occurred while loading the image.\")}</p>\n\t\t<a href=\"#\" class=\"open-file-link\">${vscode.l10n.t(\"Open file using VS Code's standard text/binary editor?\")}</a>\n\t</div>\n\t<script src=\"${escapeAttribute(this.extensionResource('media', 'imagePreview.js'))}\" nonce=\"${nonce}\"></script>\n</body>\n</html>`;\n\t}\n\n\tprivate async getResourcePath(webviewEditor: vscode.WebviewPanel, resource: vscode.Uri, version: string): Promise<string> {\n\t\tif (resource.scheme === 'git') {\n\t\t\tconst stat = await vscode.workspace.fs.stat(resource);\n\t\t\tif (stat.size === 0) {\n\t\t\t\treturn this.emptyPngDataUri;\n\t\t\t}\n\t\t}\n\n\t\t// Avoid adding cache busting if there is already a query string\n\t\tif (resource.query) {\n\t\t\treturn webviewEditor.webview.asWebviewUri(resource).toString();\n\t\t}\n\t\treturn webviewEditor.webview.asWebviewUri(resource).with({ query: `version=${version}` }).toString();\n\t}\n\n\tprivate extensionResource(...parts: string[]) {\n\t\treturn this.webviewEditor.webview.asWebviewUri(vscode.Uri.joinPath(this.extensionRoot, ...parts));\n\t}\n}\n\n\nexport function registerImagePreviewSupport(context: vscode.ExtensionContext, binarySizeStatusBarEntry: BinarySizeStatusBarEntry): vscode.Disposable {\n\tconst disposables: vscode.Disposable[] = [];\n\n\tconst sizeStatusBarEntry = new SizeStatusBarEntry();\n\tdisposables.push(sizeStatusBarEntry);\n\n\tconst zoomStatusBarEntry = new ZoomStatusBarEntry();\n\tdisposables.push(zoomStatusBarEntry);\n\n\tconst previewManager = new PreviewManager(context.extensionUri, sizeStatusBarEntry, binarySizeStatusBarEntry, zoomStatusBarEntry);\n\n\tdisposables.push(vscode.window.registerCustomEditorProvider(PreviewManager.viewType, previewManager, {\n\t\tsupportsMultipleEditorsPerDocument: true,\n\t}));\n\n\tdisposables.push(vscode.commands.registerCommand('imagePreview.zoomIn', () => {\n\t\tpreviewManager.activePreview?.zoomIn();\n\t}));\n\n\tdisposables.push(vscode.commands.registerCommand('imagePreview.zoomOut', () => {\n\t\tpreviewManager.activePreview?.zoomOut();\n\t}));\n\n\tdisposables.push(vscode.commands.registerCommand('imagePreview.copyImage', () => {\n\t\tpreviewManager.activePreview?.copyImage();\n\t}));\n\n\treturn vscode.Disposable.from(...disposables);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { PreviewStatusBarEntry } from '../ownedStatusBarEntry';\n\n\nexport class SizeStatusBarEntry extends PreviewStatusBarEntry {\n\n\tconstructor() {\n\t\tsuper('status.imagePreview.size', vscode.l10n.t(\"Image Size\"), vscode.StatusBarAlignment.Right, 101 /* to the left of editor status (100) */);\n\t}\n\n\tpublic show(owner: unknown, text: string) {\n\t\tthis.showItem(owner, text);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { PreviewStatusBarEntry as OwnedStatusBarEntry } from '../ownedStatusBarEntry';\n\n\nconst selectZoomLevelCommandId = '_imagePreview.selectZoomLevel';\n\nexport type Scale = number | 'fit';\n\nexport class ZoomStatusBarEntry extends OwnedStatusBarEntry {\n\n\tprivate readonly _onDidChangeScale = this._register(new vscode.EventEmitter<{ scale: Scale }>());\n\tpublic readonly onDidChangeScale = this._onDidChangeScale.event;\n\n\tconstructor() {\n\t\tsuper('status.imagePreview.zoom', vscode.l10n.t(\"Image Zoom\"), vscode.StatusBarAlignment.Right, 102 /* to the left of editor size entry (101) */);\n\n\t\tthis._register(vscode.commands.registerCommand(selectZoomLevelCommandId, async () => {\n\t\t\ttype MyPickItem = vscode.QuickPickItem & { scale: Scale };\n\n\t\t\tconst scales: Scale[] = [10, 5, 2, 1, 0.5, 0.2, 'fit'];\n\t\t\tconst options = scales.map((scale): MyPickItem => ({\n\t\t\t\tlabel: this.zoomLabel(scale),\n\t\t\t\tscale\n\t\t\t}));\n\n\t\t\tconst pick = await vscode.window.showQuickPick(options, {\n\t\t\t\tplaceHolder: vscode.l10n.t(\"Select zoom level\")\n\t\t\t});\n\t\t\tif (pick) {\n\t\t\t\tthis._onDidChangeScale.fire({ scale: pick.scale });\n\t\t\t}\n\t\t}));\n\n\t\tthis.entry.command = selectZoomLevelCommandId;\n\t}\n\n\tpublic show(owner: unknown, scale: Scale) {\n\t\tthis.showItem(owner, this.zoomLabel(scale));\n\t}\n\n\tprivate zoomLabel(scale: Scale): string {\n\t\treturn scale === 'fit'\n\t\t\t? vscode.l10n.t(\"Whole Image\")\n\t\t\t: `${Math.round(scale * 100)}%`;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { BinarySizeStatusBarEntry } from './binarySizeStatusBarEntry';\nimport { MediaPreview, reopenAsText } from './mediaPreview';\nimport { escapeAttribute, getNonce } from './util/dom';\n\n\nclass VideoPreviewProvider implements vscode.CustomReadonlyEditorProvider {\n\n\tpublic static readonly viewType = 'vscode.videoPreview';\n\n\tconstructor(\n\t\tprivate readonly extensionRoot: vscode.Uri,\n\t\tprivate readonly binarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t) { }\n\n\tpublic async openCustomDocument(uri: vscode.Uri) {\n\t\treturn { uri, dispose: () => { } };\n\t}\n\n\tpublic async resolveCustomEditor(document: vscode.CustomDocument, webviewEditor: vscode.WebviewPanel): Promise<void> {\n\t\tnew VideoPreview(this.extensionRoot, document.uri, webviewEditor, this.binarySizeStatusBarEntry);\n\t}\n}\n\n\nclass VideoPreview extends MediaPreview {\n\n\tconstructor(\n\t\tprivate readonly extensionRoot: vscode.Uri,\n\t\tresource: vscode.Uri,\n\t\twebviewEditor: vscode.WebviewPanel,\n\t\tbinarySizeStatusBarEntry: BinarySizeStatusBarEntry,\n\t) {\n\t\tsuper(extensionRoot, resource, webviewEditor, binarySizeStatusBarEntry);\n\n\t\tthis._register(webviewEditor.webview.onDidReceiveMessage(message => {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase 'reopen-as-text': {\n\t\t\t\t\treopenAsText(resource, webviewEditor.viewColumn);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.updateBinarySize();\n\t\tthis.render();\n\t\tthis.updateState();\n\t}\n\n\tprotected async getWebviewContents(): Promise<string> {\n\t\tconst version = Date.now().toString();\n\t\tconst configurations = vscode.workspace.getConfiguration('mediaPreview.video');\n\t\tconst settings = {\n\t\t\tsrc: await this.getResourcePath(this.webviewEditor, this.resource, version),\n\t\t\tautoplay: configurations.get('autoPlay'),\n\t\t\tloop: configurations.get('loop'),\n\t\t};\n\n\t\tconst nonce = getNonce();\n\n\t\tconst cspSource = this.webviewEditor.webview.cspSource;\n\t\treturn /* html */`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\n\t<!-- Disable pinch zooming -->\n\t<meta name=\"viewport\"\n\t\tcontent=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no\">\n\n\t<title>Video Preview</title>\n\n\t<link rel=\"stylesheet\" href=\"${escapeAttribute(this.extensionResource('media', 'videoPreview.css'))}\" type=\"text/css\" media=\"screen\" nonce=\"${nonce}\">\n\n\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src data: ${cspSource}; media-src ${cspSource}; script-src 'nonce-${nonce}'; style-src ${cspSource} 'nonce-${nonce}';\">\n\t<meta id=\"settings\" data-settings=\"${escapeAttribute(JSON.stringify(settings))}\">\n</head>\n<body class=\"loading\" data-vscode-context='{ \"preventDefaultContextMenuItems\": true }'>\n\t<div class=\"loading-indicator\"></div>\n\t<div class=\"loading-error\">\n\t\t<p>${vscode.l10n.t(\"An error occurred while loading the video file.\")}</p>\n\t\t<a href=\"#\" class=\"open-file-link\">${vscode.l10n.t(\"Open file using VS Code's standard text/binary editor?\")}</a>\n\t</div>\n\t<script src=\"${escapeAttribute(this.extensionResource('media', 'videoPreview.js'))}\" nonce=\"${nonce}\"></script>\n</body>\n</html>`;\n\t}\n\n\tprivate async getResourcePath(webviewEditor: vscode.WebviewPanel, resource: vscode.Uri, version: string): Promise<string | null> {\n\t\tif (resource.scheme === 'git') {\n\t\t\tconst stat = await vscode.workspace.fs.stat(resource);\n\t\t\tif (stat.size === 0) {\n\t\t\t\t// The file is stored on git lfs\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// Avoid adding cache busting if there is already a query string\n\t\tif (resource.query) {\n\t\t\treturn webviewEditor.webview.asWebviewUri(resource).toString();\n\t\t}\n\t\treturn webviewEditor.webview.asWebviewUri(resource).with({ query: `version=${version}` }).toString();\n\t}\n\n\tprivate extensionResource(...parts: string[]) {\n\t\treturn this.webviewEditor.webview.asWebviewUri(vscode.Uri.joinPath(this.extensionRoot, ...parts));\n\t}\n}\n\nexport function registerVideoPreviewSupport(context: vscode.ExtensionContext, binarySizeStatusBarEntry: BinarySizeStatusBarEntry): vscode.Disposable {\n\tconst provider = new VideoPreviewProvider(context.extensionUri, binarySizeStatusBarEntry);\n\treturn vscode.window.registerCustomEditorProvider(VideoPreviewProvider.viewType, provider, {\n\t\tsupportsMultipleEditorsPerDocument: true,\n\t\twebviewOptions: {\n\t\t\tretainContextWhenHidden: true,\n\t\t}\n\t});\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { registerAudioPreviewSupport } from './audioPreview';\nimport { BinarySizeStatusBarEntry } from './binarySizeStatusBarEntry';\nimport { registerImagePreviewSupport } from './imagePreview';\nimport { registerVideoPreviewSupport } from './videoPreview';\n\nexport function activate(context: vscode.ExtensionContext) {\n\tconst binarySizeStatusBarEntry = new BinarySizeStatusBarEntry();\n\tcontext.subscriptions.push(binarySizeStatusBarEntry);\n\n\tcontext.subscriptions.push(registerImagePreviewSupport(context, binarySizeStatusBarEntry));\n\tcontext.subscriptions.push(registerAudioPreviewSupport(context, binarySizeStatusBarEntry));\n\tcontext.subscriptions.push(registerVideoPreviewSupport(context, binarySizeStatusBarEntry));\n}\n"],"names":[],"sourceRoot":""}